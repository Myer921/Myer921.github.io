<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>追忆日志</title>
  
  
  <link href="https://blog.morz.org/atom.xml" rel="self"/>
  
  <link href="https://blog.morz.org/"/>
  <updated>2021-04-19T03:40:12.701Z</updated>
  <id>https://blog.morz.org/</id>
  
  <author>
    <name>冰喵</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>关于谷歌 IP 识别的二三事</title>
    <link href="https://blog.morz.org/2021/04/19/%E5%85%B3%E4%BA%8E%E8%B0%B7%E6%AD%8CIP%E8%AF%86%E5%88%AB%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/"/>
    <id>https://blog.morz.org/2021/04/19/%E5%85%B3%E4%BA%8E%E8%B0%B7%E6%AD%8CIP%E8%AF%86%E5%88%AB%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/</id>
    <published>2021-04-19T02:15:08.000Z</published>
    <updated>2021-04-19T03:40:12.701Z</updated>
    
    <content type="html"><![CDATA[<h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><p>2021-04-19 11:39:42 补充了 BGP 广播路由内容<br>2021-04-19 10:15:08 创建本文  </p><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在谷歌服务区域中，虽然在 CN/KP 没有正式提供服务 ，在服务区域的划分中确实存在，并且这两个区域受到功能上的限制。<br>今天主要记录一下 CN 区域的服务限制，KP 没能力搞到测试。  </p><p>在 Play 商店中，CN 区域无法购买付费应用，但在 202X 年能直接访问 Play CN 区域应用服务已经十分罕见了。<br>Youtube 不显示 CN 区域，但实际上它确实存在，在版权限制中可以看见该区域的身影..  </p><p>接下来是曾经在使用 BGP 网络的情况下如何指定区域的多种实验方案。<br>我的网络是 IPv6 only 环境，不能保证 100% 适用于 IPv4 。<br>这个东西在个人中始终是黑箱，没有办法 100% 的做到在你的环境中就可用，以及此类方案需要数周甚至数月时间才能正式生效，请获知。  </p><h1 id="谷歌的识别方式"><a href="#谷歌的识别方式" class="headerlink" title="谷歌的识别方式"></a>谷歌的识别方式</h1><h2 id="已知：根据-BGP-广播中的-ASN-国家选项识别区域"><a href="#已知：根据-BGP-广播中的-ASN-国家选项识别区域" class="headerlink" title="已知：根据 BGP 广播中的 ASN 国家选项识别区域"></a>已知：根据 BGP 广播中的 ASN 国家选项识别区域</h2><p>当广播后数小时后会按照 ASN 所在国家进行区域服务提供，我愿称之为一筛。<br>CN 区域直接定位到 CN 区域，其他区域则暂时按照 US 进行提供。</p><p>如果匹配到了 CN 区域，那么你在谷歌首页的工具中你会发现翻译的地址会变成 google.cn 结尾，这便是识别 CN 区域一个小技巧，同时你还能看见你 google 首页地址在隐身模式下会 google.com.hk 。<br>还有一个方案就是访问 <a href="https://youtube.com/red">https://youtube.com/red</a> ，根据定价单位来识别区域，如果提示不支持该区域，则判定是 CN 区域，需要配合上述方案同步测试。</p><p>直接 CN 是没有任何规避手段的，如果不是将按照下一步继续识别  </p><h2 id="根据用户上报区域来识别网络所在区域"><a href="#根据用户上报区域来识别网络所在区域" class="headerlink" title="根据用户上报区域来识别网络所在区域"></a>根据用户上报区域来识别网络所在区域</h2><p>这个步骤是源自我的推测，不保证适用于所有人。<br>我的环境是 IPv6 only + ASN 非 CN<br>如果 ASN 国家不是 CN 区域，那么会按照第一个使用用户判定所在区域。  </p><p>当第一个使用用户在历史活动定位，或者实际 GPS 定位上报的区域为 CN 时，则会临时定向到 CN 区域提供服务。<br>谷歌首页的工具中，翻译的链接地址不会是 google.cn ，第一次访问谷歌也不是 google.com.hk ，Youtube 中不显示国家，red 中提示不支持该区域。 </p><h3 id="补充一个谷歌神仙操作"><a href="#补充一个谷歌神仙操作" class="headerlink" title="补充一个谷歌神仙操作"></a>补充一个谷歌神仙操作</h3><p>2021 年，谷歌搞了一个十分神仙的操作。<br>当用户上报区域/地理定位区域与谷歌提供的服务不一致时，谷歌会按照用户上报区域/地理定位区域来判定用户区域，这也就导致了部分用户出口被谷歌判定 CN 区域的原因。<br>当然也有一部分用户不会受到影响，我无法解释这一点，但这个神仙操作还是存在的。<br>咱没有与谷歌直接 Peer 也没有谷歌的 ISP 控制台管理，在 ISP 中可以指定区域的，我无法判定这个条件。  </p><p>接下来是如何将区域修复到你要的区域。</p><h2 id="指定你需要的区域"><a href="#指定你需要的区域" class="headerlink" title="指定你需要的区域"></a>指定你需要的区域</h2><p>这个步骤是源自我的尝试，不保证适用于所有人。</p><h3 id="在-RIR-设置中更改区域"><a href="#在-RIR-设置中更改区域" class="headerlink" title="在 RIR 设置中更改区域"></a>在 RIR 设置中更改区域</h3><p>ARIN 中的 Org 组织指定所在国家，并将这个 Org 套用到你要广播的 IPv6 地址段中(在 AS137256 中则做到了这点，但是只是在其他IP地址库中会生效)  </p><h3 id="在-RIR-中更改-ASN-所在区域"><a href="#在-RIR-中更改-ASN-所在区域" class="headerlink" title="在 RIR 中更改 ASN 所在区域"></a>在 RIR 中更改 ASN 所在区域</h3><p>试图更改 ASN 国家区域 (APNIC 目前并不支持这样的更改，当然你要是硬杠还是可以的)  </p><h3 id="清理谷歌资料信息"><a href="#清理谷歌资料信息" class="headerlink" title="清理谷歌资料信息"></a>清理谷歌资料信息</h3><p>清理 google 帐号的历史活动定位，删除所有与区域相关的搜索  </p><h3 id="BGP-广播区域"><a href="#BGP-广播区域" class="headerlink" title="BGP 广播区域"></a>BGP 广播区域</h3><p>路由广播只会影响 GGC 返回的节点信息，与你最近的 GGC 则看你的上游在什么位置与谷歌接了 BGP Peer。</p><h4 id="手机部分"><a href="#手机部分" class="headerlink" title="手机部分"></a>手机部分</h4><p>伪装区域（使用edxposed的插件做到的），伪装 SIM 信息 （使用 Magisk 的 Riru - Location Report Enabler)</p><h4 id="PC部分"><a href="#PC部分" class="headerlink" title="PC部分"></a>PC部分</h4><p>删除 Google 个人应用数据中的网络与应用活动记录<br>删除 位置记录<br>清理历史搜索记录<br>使用位置伪装插件 <a href="https://chrome.google.com/webstore/detail/location-guard/cfohepagpmnodfdmjliccbbigdkfcgia">Chrome 插件:Location Guard</a> 来伪装区域并上报。<br>上述步骤处理完后去谷歌搜索输入定位，他会申请定位你的所在区域，授予权限后定位区域会显示你伪装的区域，在谷歌搜索底部看见的区域如果是你伪装的则成功，不是的话手动更新一波伪装位置，如果还是不行请检查插件设置。</p><h1 id="剩下的……"><a href="#剩下的……" class="headerlink" title="剩下的……"></a>剩下的……</h1><p>剩下的，则是要等数周的谷歌服务调整<br>不要上传和搜索与你伪装区域无关的地址信息<br>朋友，祝你好运  </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;更新&quot;&gt;&lt;a href=&quot;#更新&quot; class=&quot;headerlink&quot; title=&quot;更新&quot;&gt;&lt;/a&gt;更新&lt;/h1&gt;&lt;p&gt;2021-04-19 11:39:42 补充了 BGP 广播路由内容&lt;br&gt;2021-04-19 10:15:08 创建本文  &lt;/p&gt;
&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>初见-实践-重生</title>
    <link href="https://blog.morz.org/2021/04/18/hello-world/"/>
    <id>https://blog.morz.org/2021/04/18/hello-world/</id>
    <published>2021-04-18T06:07:56.603Z</published>
    <updated>2021-04-18T19:14:18.339Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-初见-2014-2018"><a href="#1-初见-2014-2018" class="headerlink" title="1. 初见 (2014-2018)"></a>1. 初见 (2014-2018)</h1><p>那是 2014 年的新年期间，我购置了第一个域名(并不是这个，你们以后会看到的)<br>这段期间内，我对于网络的意识仍停留在 <a href="https://zh.wikipedia.org/wiki/%E6%97%A0%E7%BA%BF%E5%BA%94%E7%94%A8%E5%8D%8F%E8%AE%AE">WAP</a> 时代  </p><p>这个时间域名用来搭建第一个<a href="https://www.google.com/search?q=%E7%8E%96%E7%8E%A9%E6%B5%8F%E8%A7%88%E5%99%A8">在线浏览器(压缩/免流)</a>给初中生的自己减少手机上网费用<br>那时还没有现代的智能手机，网络还停留在 2G 网络阶段，也是我认为免流最有意思的初始阶段  </p><p>搭建在线浏览器从寻找无数的虚拟主机(免费)，到后来购买 vps(openvz/kvm)，使用第一个 Linux 发行版(CentOS) 搭建 WAP 与 WEB 网站。</p><p>这段期间的资料已经彻底消失在互联网中…..<br>初见-初见互联网-结束</p><h1 id="2-实践-2018-2019"><a href="#2-实践-2018-2019" class="headerlink" title="2. 实践 (2018-2019)"></a>2. 实践 (2018-2019)</h1><p>在这段时间里，搭建喵萌博客经历无数次，也经历了无数爆炸的情况…<br>使用 wordpress ，给 wordpress 使用 pgsql ，给 Nginx 开启 http2 支持(编译 Nginx 无数次) ，用各种盗版主题和盗版插件，在各大 wordpress 站学习各种优化<br>中间也使用过 <a href="https://github.com/SilverBlog/silverblog">Silverblog</a> , <a href="https://hexo.io/">hexo</a><br>魔改许多主题加上透明给自己用，那个时候对于透明有着特殊的追求，不过在 Telegram 社交中发生了大大小小的事情，也同时在无数台 VPS 中迁移来迁移去，组建无数次的超级局域网<br>最后，在数次的迁移过程中，和经费紧张没有备份的情况下，数据彻底爆炸，同时也因涉及到因多嘴导致的大大小小的事情而退圈（开始了小范围社交的模式）。 </p><p>这段实践期间，我更想称之为爆炸时期，这个时候许多人对我的印象如同爆裂魔法惠惠，天天爆炸(Explosion!)…….</p><p>实践-实践爆炸-结束</p><h1 id="3-退圈-2019-2020"><a href="#3-退圈-2019-2020" class="headerlink" title="3. 退圈 (2019-2020)"></a>3. 退圈 (2019-2020)</h1><p>2019-2020 之间的事情，因保密需要不再过多透漏，让我们跳到 下一个部分。<br>这段时间内博客有过重建，但到了最后还是摸鱼搁置掉了…..<br>点评：这两年过的真的稀烂……  </p><h1 id="4-重生-2021"><a href="#4-重生-2021" class="headerlink" title="4. 重生 (2021)"></a>4. 重生 (2021)</h1><p>那么，到了 2021 了，为什么我会突然想起来再次建立博客呢？<br>在浏览 Telegram 频道的时候，我看见了这个主题作者制作的奇妙东西，关注了这个人之后突然给了我一个动力吧。(其实真的很奇妙）<br>最后想到不妨重新创建一个博客，在找回了喵萌博客部分技术之后，作为追忆日志重生了。</p><p>追忆这个名字源自与 MagicNeko 的新网络计划名称<br>这里也会放一些和该计划相关的设想/记录，也会有我冰喵自己的奇怪吐槽和分享吧。</p><p>就到这里，我是冰喵。晚安</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-初见-2014-2018&quot;&gt;&lt;a href=&quot;#1-初见-2014-2018&quot; class=&quot;headerlink&quot; title=&quot;1. 初见 (2014-2018)&quot;&gt;&lt;/a&gt;1. 初见 (2014-2018)&lt;/h1&gt;&lt;p&gt;那是 2014 年的新年期间，我</summary>
      
    
    
    
    
  </entry>
  
</feed>
