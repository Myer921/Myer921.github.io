"use strict";!function(){function e(){return'Typinyin - Ver 0.1.3 \n Please use "new" to create a typinin element.'}function t(e){if(this.element=e,"string"==typeof e&&(this.element=document.querySelector(this.element)),!this.element||null===this.element.nodeType)throw new Error("Invalid typinyin element.");if(this.element.typinyin)throw new Error("Typinyin already attached.");return this.element.typinyin=!0,this}function n(e){return this.options=e,this}function o(){if("undefined"==typeof this.options)this.options=p;else for(var e in p)"undefined"==typeof this.options[e]&&(this.options[e]=p[e])}function i(){function e(e,t){function n(){o>0?setTimeout(function(){p.textContent=p.textContent.substr(0,p.textContent.length-1),o--,n()},i.options.backSpeed):"function"==typeof t&&t()}var o=e;n()}function t(e,t){setTimeout(function(){t()},e)}function n(){function o(){h<u.length?"\b"===u[h]?(h++,e(1,o),d=d.slice(0,d.length-1)):setTimeout(function(){d+=u[h],p.textContent=c+d,h++,o()},i.options.typeSpeed):setTimeout(function(){d=i.options.sentences[s].ch[f],p.textContent=c+d,c=p.textContent,f++,l()},i.options.typeSpeed)}function r(){function n(){o<u[a].length?"\b"===u[a][o]?(e(1,n),d=d.slice(0,d.length-1),o++):setTimeout(function(){d+=u[a][o],p.textContent=c+d,o++,n()},i.options.typeSpeed):setTimeout(function(){a++,r()},i.options.typeSpeed)}var o=0;if(a<u.length)if("object"==typeof u[a])if("undefined"!=typeof u[a].del)e(u[a].del,r),d=d.slice(0,d.length-u[a].del),a++;else{if("undefined"==typeof u[a].pause)throw new Error("Invalid word or method!");t(u[a].pause,r),a++}else n();else setTimeout(function(){d=i.options.sentences[s].ch[f],p.textContent=c+d,c=p.textContent,f++,l()},i.options.typeSpeed)}function l(){if("\b"===i.options.sentences[s].ch[f])e(1,function(){c=p.textContent,l()}),f++;else if("object"==typeof i.options.sentences[s].ch[f])if("undefined"!=typeof i.options.sentences[s].ch[f].del)e(i.options.sentences[s].ch[f].del,function(){c=p.textContent,l()}),f++;else{if("undefined"==typeof i.options.sentences[s].ch[f].pause)throw new Error("Invalid word or method!");t(i.options.sentences[s].ch[f].pause,l),f++}else f<i.options.sentences[s].ch.length?(u=i.options.sentences[s].py[f],h=0,a=0,d="","object"==typeof u?r():o()):setTimeout(function(){return s<i.options.sentences.length-1||i.options.loop?(e(p.textContent.length,n),void s++):void("function"==typeof i.finished&&i.finished())},i.options.pause)}c="";var u,f=0,h=0,a=0,d="";s<i.options.sentences.length?(f=0,p.innerHTML="",l()):i.options.loop&&i.init()}var i=this;o.call(i);var s=0,p=document.createElement("span"),c="";p.style.cssText="white-space:pre-wrap;";var r=document.createElement("span");r.className="typing-cursor",r.textContent=i.options.cursorChar,i.element.innerHTML="",i.element.appendChild(p),i.element.appendChild(r),setTimeout(function(){n()},i.options.startDelay)}var s,p={sentences:[{ch:["这是","一个","实例","示例"],py:["zheshi","yige","shili","shili"]},{ch:["This is an example."],py:["This is an exaaaaaaaa\b\b\b\b\b\b\bmple."]}],startDelay:0,typeSpeed:100,pause:1e3,backSpeed:60,cursorChar:"|",loop:!1};e.prototype.attach=t,e.prototype.setOptions=n,e.prototype.finished=s,e.prototype.init=i,window.Typinyin=e}();